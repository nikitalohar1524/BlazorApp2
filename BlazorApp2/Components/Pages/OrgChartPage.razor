@* @page "/orgchart"
@inject IJSRuntime JSRuntime

<h3>Organization Chart</h3>

<div id="orgChartContainer" style="width:100%; height:600px;"></div>

<button class="btn btn-primary mt-3" @onclick="LoadOrgChart">Load Org Chart</button>

@code {
    private async Task LoadOrgChart()
    {
        var data = await JSRuntime.InvokeAsync<object[]>("getOrgChartExampleData");
        await JSRuntime.InvokeVoidAsync("renderOrgChart", data);
    }

    protected override async Task OnAfterRenderAsync(bool firstRender)
    {
        if (firstRender)
        {
            await LoadOrgChart();
        }
    }
} *@

@page "/orgchart"
@inject IJSRuntime JSRuntime

<h3>Organization Chart</h3>

<div id="orgChartContainer" style="width:100%; height:600px; border:1px solid #ccc;"></div>

<button class="btn btn-primary mt-3" @onclick="LoadOrgChart">Load Org Chart</button>

@code {
    private async Task LoadOrgChart()
    {
        var data = await JSRuntime.InvokeAsync<object[]>("getOrgChartExampleData");
        await JSRuntime.InvokeVoidAsync("renderOrgChart", data);
    }

    protected override async Task OnAfterRenderAsync(bool firstRender)
    {
        if (firstRender)
        {
            await Task.Delay(200); // wait for JS to load
            await LoadOrgChart();
        }
    }
}

